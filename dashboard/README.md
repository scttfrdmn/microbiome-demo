# Microbiome Dashboard

This dashboard displays real-time results from the microbiome analysis workflow.

## Features

- Real-time display of microbiome analysis results
- Automatic 5-second refresh interval
- Displays taxonomy distribution, sample counts, and resource utilization
- Fully connected to the real data output by the Nextflow pipeline

## Files

- `index.html` - Main dashboard file
- `js/dashboard_config.js` - Configuration settings 
- `js/microbiome_dashboard.js` - Additional JS utilities
- `css/styles.css` - Dashboard styling
- `test-dashboard.html` - Test version that uses real data format but in local files

## Data Sources

The dashboard connects to real data generated by the Nextflow pipeline:

1. **Summary Data** - `s3://<bucket>/results/summary/microbiome_summary.json`
   - Contains taxonomy information, diversity metrics, and execution statistics
   - Generated by the `create_summary` process in the workflow

2. **Progress Data** - `s3://<bucket>/status/progress.json`
   - Contains workflow execution progress
   - Updated by the workflow as it runs

3. **Resource Data** - `s3://<bucket>/monitoring/resources.json`
   - Contains CPU, memory, and GPU utilization metrics
   - Updated by monitoring scripts

## Testing

To test the dashboard with realistic data:

1. Run the included utility script:
   ```
   cd dashboard/data
   ./update_real_data.sh
   ```

2. Open the test dashboard:
   ```
   open ../test-dashboard.html
   ```

3. This will use test data that mirrors the structure of the real pipeline output.

## Deployment

The dashboard is automatically deployed to an S3 bucket configured as a website by the `start_demo.sh` script:

1. The script sets the correct paths and configuration
2. Dashboard files are uploaded to S3
3. The S3 bucket is configured with website hosting

## Important Notes

- The dashboard now only displays real data from the pipeline
- No simulated/fake data is used
- If data files are missing, charts will display empty states rather than fallback data
- Debug information can be toggled by clicking the "Toggle Debug Info" button at the bottom